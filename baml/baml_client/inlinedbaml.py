# ----------------------------------------------------------------------------
#
#  Welcome to Baml! To use this generated code, please run the following:
#
#  $ pip install baml
#
# ----------------------------------------------------------------------------

# This file was generated by BAML: please do not edit it. Instead, edit the
# BAML files and re-generate this code using: baml-cli generate
# baml-cli is available with the baml package.

_file_map = {

    "mahjong.baml": "// BAML型定義: 麻雀の手牌構造\n\n// 自動生成ファイルの出力先設定\ngenerator baml_client {\n  output_type \"python/pydantic\"\n  output_dir \"../baml\"\n  version \"0.211.2\"\n}\n\n// 牌の種類を文字列型で定義\n// aliasが効かないため、直接文字列として定義する\n// 有効な値: \"1m\"〜\"9m\", \"1p\"〜\"9p\", \"1s\"〜\"9s\", \"1z\"〜\"7z\"\ntype TileType = string @assert(valid_tile, {{\n  this|regex_match(\"^[1-9][mps]$\") or this|regex_match(\"^[1-7]z$\")\n}})\n\n// 風の種類を文字列型で定義\n// aliasが効かないため、直接文字列として定義する\n// 有効な値: \"east\", \"south\", \"west\", \"north\"\ntype WindType = string\n\n// 鳴き(メンツ)の情報\nclass MeldInfo {\n  tiles TileType[] @description(\"鳴いた牌のリスト (例: ['1m', '2m', '3m'])\")\n  is_open bool @description(\"true: 鳴き(ポン/チー/明カン), false: 暗カン\")\n}\n\n// 麻雀の手牌情報\nclass Hand {\n  tiles TileType[] @description(\"手牌の牌リスト。和了牌(win_tile)を含む。鳴いた牌も全て含める。カンがない場合は正確に14枚、カンがある場合はカン1つにつき1枚追加(15-18枚)。形式: '1m', '2p', '3s', '1z'など\")\n    @assert(tile_count, {{ this|length == 14 or this|length == 15 or this|length == 16 or this|length == 17 or this|length == 18 }})\n  melds MeldInfo[] | null @description(\"鳴いた牌のリスト。ポン/チー/カンがある場合に設定。ない場合はnull。meldsに含まれる牌は全てtilesにも存在する必要がある\")\n  win_tile TileType @description(\"アガリ牌。tilesにも含まれている必要がある (例: '1m')\")\n  dora_indicators TileType[] | null @description(\"ドラ表示牌のリスト\")\n  // 状況フラグ(デフォルト: false)\n  is_riichi bool @description(\"リーチをかけているか\")\n  is_tsumo bool @description(\"ツモアガリか(falseの場合はロン)\")\n  is_ippatsu bool @description(\"一発か\")\n  is_rinshan bool @description(\"嶺上開花か\")\n  is_chankan bool @description(\"槍槓か\")\n  is_haitei bool @description(\"海底摸月か\")\n  is_houtei bool @description(\"河底撈魚か\")\n  is_daburu_riichi bool @description(\"ダブルリーチか\")\n  is_nagashi_mangan bool @description(\"流し満貫か\")\n  is_tenhou bool @description(\"天和か\")\n  is_chiihou bool @description(\"地和か\")\n  is_renhou bool @description(\"人和か\")\n  is_open_riichi bool @description(\"オープンリーチか\")\n  player_wind WindType | null @description(\"自風: 'east'(東家), 'south'(南家), 'west'(西家), 'north'(北家)\")\n  round_wind WindType | null @description(\"場風: 'east'(東場), 'south'(南場), 'west'(西場), 'north'(北場)\")\n  kyoutaku_number int @description(\"供託本数（1000点単位）\")\n  tsumi_number int @description(\"積み棒の数（100点単位）。本場数×3で計算（例: 2本場なら6）\")\n}\n\n// OpenAI GPTクライアント設定\nclient<llm> GPT4o {\n  provider openai\n  options {\n    model \"gpt-4o\"\n    api_key env.OPENAI_API_KEY\n  }\n}\n\n// 自然言語の問題文から手牌データを構造化抽出する関数\nfunction ExtractHandFromQuestion(question: string) -> Hand {\n  client GPT4o\n  prompt #\"\n    以下の日本語の麻雀問題文から手牌情報を抽出し、完全なJSONオブジェクトとして出力してください。\n\n    問題文:\n    {{ question }}\n\n    重要: 牌の表記は必ず小文字の形式（例: \"1m\", \"2p\", \"3s\", \"1z\"）を使用してください。\n    大文字の形式（例: \"ONE_M\", \"TWO_P\"）は使用しないでください。\n\n    **牌の有効範囲（これ以外の牌は絶対に使用しないこと）:**\n    - 萬子(m): 1m, 2m, 3m, 4m, 5m, 6m, 7m, 8m, 9m\n    - 筒子(p): 1p, 2p, 3p, 4p, 5p, 6p, 7p, 8p, 9p\n    - 索子(s): 1s, 2s, 3s, 4s, 5s, 6s, 7s, 8s, 9s\n    - 字牌(z): 1z, 2z, 3z, 4z, 5z, 6z, 7z のみ（8z, 9zは存在しません）\n\n    出力形式(全てのフィールドを含めること):\n    {\n      \"tiles\": [...],  // 問題文から抽出した手牌。和了牌を含む。通常14枚だがカンがある場合は15枚以上。**鳴いた牌も全て含める必要がある**。形式: \"1m\", \"2p\", \"3s\", \"1z\"\n      \"melds\": null,  // 鳴き情報。ポン/チー/カンがある場合は配列で設定。**meldsに含まれる牌は全てtilesにも存在する必要がある**\n      \"win_tile\": \"...\",  // アガリ牌。tilesの中にも必ず含まれている必要がある。形式: \"1m\"など\n      \"dora_indicators\": null,  // ドラ表示牌がある場合は配列で設定。形式: \"1m\"など\n      \"is_riichi\": false,  // リーチが言及されていればtrue\n      \"is_tsumo\": false,  // ツモ/自摸ならtrue、ロンならfalse\n      \"is_ippatsu\": false,  // 一発が言及されていない限りfalse\n      \"is_rinshan\": false,  // 嶺上開花が言及されていない限りfalse\n      \"is_chankan\": false,  // 槍槓が言及されていない限りfalse\n      \"is_haitei\": false,  // 海底摸月が言及されていない限りfalse\n      \"is_houtei\": false,  // 河底撈魚が言及されていない限りfalse\n      \"is_daburu_riichi\": false,  // ダブルリーチが言及されていない限りfalse\n      \"is_nagashi_mangan\": false,  // 流し満貫が言及されていない限りfalse\n      \"is_tenhou\": false,  // 天和が言及されていない限りfalse\n      \"is_chiihou\": false,  // 地和が言及されていない限りfalse\n      \"is_renhou\": false,  // 人和が言及されていない限りfalse\n      \"is_open_riichi\": false,  // オープンリーチが言及されていない限りfalse\n      \"player_wind\": null,  // 東家なら\"east\", 南家なら\"south\", 西家なら\"west\", 北家なら\"north\"\n      \"round_wind\": null,  // 東場なら\"east\", 南場なら\"south\", 西場なら\"west\", 北場なら\"north\"\n      \"kyoutaku_number\": 0,  // 供託本数（1000点単位）。言及されていない限り0\n      \"tsumi_number\": 0  // 積み棒の数（100点単位）。\"X本場\"なら本場数×3で計算（例: 2本場なら6）。言及されていない限り0\n    }\n\n    **最重要**: tilesとwin_tileの関係について\n    1. 問題文に「手牌は以下の通り：A, B, C, ...」と列挙されている牌を**そのまま正確に**tilesにコピーしてください\n    2. 問題文に「和了牌は○○」と書かれている牌をwin_tileに設定してください\n    3. **絶対にwin_tileをtilesに追加しないでください！**\n       - 問題文の手牌には既に和了牌が含まれています\n       - tilesに和了牌を追加すると15枚になってしまいエラーになります\n    4. 例:\n       問題文「手牌は以下の通り：1m, 1m, 2m, 3m, 4m, 5m, 6m, 7m, 8m, 9m, 9m, 9m, 5p, 5p. 和了牌は5p」\n       → tiles: [\"1m\", \"1m\", \"2m\", \"3m\", \"4m\", \"5m\", \"6m\", \"7m\", \"8m\", \"9m\", \"9m\", \"9m\", \"5p\", \"5p\"] (14枚)\n       → win_tile: \"5p\"\n       → ❌ 間違い: tiles: [..., \"5p\", \"5p\", \"5p\"] (5pを追加して15枚にする)\n\n    和了形のパターン:\n    1. 通常の和了形（4面子1雀頭）:\n       例: 手牌「1m, 2m, 3m, 4m, 5m, 6m, 7m, 8m, 9m, 1p, 1p, 1p, 1s, 1s」で和了牌「1s」\n       → tiles: [\"1m\", \"2m\", \"3m\", \"4m\", \"5m\", \"6m\", \"7m\", \"8m\", \"9m\", \"1p\", \"1p\", \"1p\", \"1s\", \"1s\"]\n       → win_tile: \"1s\"\n\n    2. 七対子（7組の対子）:\n       例: 手牌「1m, 1m, 2m, 2m, 3m, 3m, 4m, 4m, 5m, 5m, 6m, 6m, 7m, 7m」で和了牌「2m」\n       → tiles: [\"1m\", \"1m\", \"2m\", \"2m\", \"3m\", \"3m\", \"4m\", \"4m\", \"5m\", \"5m\", \"6m\", \"6m\", \"7m\", \"7m\"]\n       → win_tile: \"2m\"\n\n    3. 国士無双（13種の么九牌+1枚）:\n       例: 手牌「1m, 9m, 1p, 9p, 1s, 9s, 1z, 2z, 3z, 4z, 5z, 6z, 7z」で和了牌「1m」\n       → tiles: [\"1m\", \"9m\", \"1p\", \"9p\", \"1s\", \"9s\", \"1z\", \"2z\", \"3z\", \"4z\", \"5z\", \"6z\", \"7z\", \"1m\"]\n       → win_tile: \"1m\"\n\n    どのパターンでも、win_tileは必ずtilesに含まれている必要があります。\n\n    鳴き(melds)について重要な注意事項:\n    - ポン、チー、カン(明カン/暗カン)が問題文に言及されている場合、必ずmeldsフィールドに配列として設定してください\n    - 各鳴きは MeldInfo オブジェクトとして以下の形式で記述:\n      * \"tiles\": 鳴いた牌のリスト (例: ポンなら[\"1m\", \"1m\", \"1m\"]、チーなら[\"1m\", \"2m\", \"3m\"])\n      * \"is_open\": ポン/チー/明カンの場合はtrue、暗カンの場合はfalse\n    - 例1: \"1mをポン\"の場合 → \"melds\": [{\"tiles\": [\"1m\", \"1m\", \"1m\"], \"is_open\": true}]\n    - 例2: \"2pをチー、5sをポン\"の場合 → \"melds\": [{\"tiles\": [\"2p\", \"3p\", \"4p\"], \"is_open\": true}, {\"tiles\": [\"5s\", \"5s\", \"5s\"], \"is_open\": true}]\n    - 鳴きがない場合のみ null を設定\n\n    **最重要**: meldsに含まれる牌は、必ず全てtilesにも含まれている必要があります。\n\n    例1 (ポン): 「手牌: 1s, 1s, 2z, 2z, 2z. 鳴き: 3zをポン」の場合\n    → tiles: [\"1s\", \"1s\", \"2z\", \"2z\", \"2z\", \"3z\", \"3z\", \"3z\"] (鳴いた3z×3も含める! 合計8枚だが、残り6枚+和了牌で14枚)\n    → melds: [{\"tiles\": [\"3z\", \"3z\", \"3z\"], \"is_open\": true}]\n\n    例2 (カン): 「手牌: 1s, 1s, 2z, 2z, 2z. 鳴き: 3zを明カン」の場合\n    → tiles: [\"1s\", \"1s\", \"2z\", \"2z\", \"2z\", \"3z\", \"3z\", \"3z\", \"3z\", ...] (カンで引いた牌も含め15枚以上)\n    → melds: [{\"tiles\": [\"3z\", \"3z\", \"3z\", \"3z\"], \"is_open\": true}]\n\n    重要:\n    - 全てのフィールドを出力に含めること\n    - 言及されていないフィールドはデフォルト値を設定 (boolはfalse, intは0, オプショナルはnull)\n    - JSONオブジェクトのみを出力し、説明文は含めないこと\n  \"#\n}\n",
}

def get_baml_files():
    return _file_map